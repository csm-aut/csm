{% from 'host/common.html' import edit_field %}

<h4>Select Software Packages <span id="server-dialog-title"></span>

&nbsp;&nbsp;<span class="glyphicon glyphicon-info-sign" style="color:dodgerblue" aria-hidden="true" data-toggle="popover_server_repo"></span>
</h4>
<div id="popover_packages" style="display: none">
  <pre>Note:
1. Only FTP and TFTP server repositories are supported for migration.
2. Two packages must be selected from the specific server repository and directory:
   a. ASR9K IOS-XR 64 Bit image with filename matching wildcard expression 'asr9k*.iso*'.
   b. The ASR9K unified FPD SMU required for running ASR9K IOS-XR 64 Bit image. (Your device must
      already have FPD package installed on ASR9K IOS-XR 32 bit image. On top of that, an additional
      unified FPD SMU is required here.) The filename must match wildcard expression 'asr9k*.pie*'</pre>
</div>

{{ edit_field(form.server_dialog_server, field_width="col-sm-7", class="form-control") }}
          
{% set extra_field =
'<a href="javascript://">
<img id="server-dialog-move-up" src="/static/up_arrow.png" title="Go to Parent Folder">
<img id="server-dialog-reset-server-directory" src="/static/remove.png" title="Reset Server Directory">
</a>'
%}

{{ edit_field(form.server_dialog_server_directory, field_width="col-sm-7", class="form-control", extra_field=extra_field) }}
<legend></legend>


<div id="server-dialog-auto-select-software-panel">
  <button id="server-dialog-auto-select-software" class="btn btn-primary center-block">Auto Select ASR9K-X64 Image</button>
</div>


<div class="form-group">
<select id="server-software-selector" name="server-software-selector" multiple="multiple" data-title="Packages" data-json=false></select>
</div>


<span class="browse-spinner">
  <center><img id="server-software-dialog-browse-spinner" src="{{ url_for('static', filename='spinner.gif') }}"></center>
</span>
<legend></legend>

<h4>Select a custom ASR9K-X64 config file to be loaded after migration:
  &nbsp;&nbsp;<span class="glyphicon glyphicon-info-sign" style="color:dodgerblue" aria-hidden="true" data-toggle="popover_config_filename"></span>
</h4>
<div id="popover_config" style="display: none">
  <pre>   If no file is provided here, CSM will migrate the existing admin and IOS-XR config
files on device using the NoX tool. Then, during Post-Migrate, CSM will attempt to load
the migrated config files.
   Alternatively, you can supply the IOS-XR config for the ASR9K IOS-XR 64 Bit image.
Once the new 64 bit image boots up, during Post-Migrate, CSM will attempt to load the
migrated admin config and then this customized config file.</pre>
</div>
<div align="center">
  <select class="form-control" id="config_filename" style="width: 50%" placeholder="Optional">
    <option value="" disabled selected style="display: none;">Optional</option>
    <option value=""></option>
  </select>
</div>

